# MineOS Environment Configuration Template
# Copy this file to .env and configure with your settings

# ============================================
# Database Configuration
# ============================================
# Options: sqlite
DB_TYPE=sqlite

# SQLite (default - simple single file database)
ConnectionStrings__DefaultConnection=Data Source=/app/data/mineos.db

# ============================================
# Authentication & Security
# ============================================
# Admin user credentials (created on first run)
Auth__SeedUsername=admin
Auth__SeedPassword=changeme

# JWT configuration for authentication tokens
Auth__JwtSecret=change-this-to-a-random-secret-key-at-least-32-characters-long
Auth__JwtIssuer=mineos
Auth__JwtAudience=mineos
Auth__JwtExpiryHours=24

# API Key for programmatic access (generated automatically if not set)
ApiKey__SeedKey=

# ============================================
# Host Configuration
# ============================================
# Host storage directory (relative to this repo)
HOST_BASE_DIRECTORY=./minecraft

# Base directory for all Minecraft-related files
Host__BaseDirectory=/var/games/minecraft

# Directory structure (relative to BaseDirectory)
Host__ServersPathSegment=servers
Host__ProfilesPathSegment=profiles
Host__BackupsPathSegment=backups
Host__ArchivesPathSegment=archives
Host__ImportsPathSegment=imports

# File ownership (Linux UID/GID)
Host__OwnerUid=1000
Host__OwnerGid=1000

# ============================================
# Optional: External Integrations
# ============================================
# CurseForge API key for mod/modpack downloads
# Get yours at: https://console.curseforge.com/
# CurseForge__ApiKey=

# Discord webhook URL for notifications
# Discord__WebhookUrl=https://discord.com/api/webhooks/...

# ============================================
# Application Ports
# ============================================
API_PORT=5078
# Public HTTP port for the UI proxy
WEB_PORT=3000

# ============================================
# Web UI Configuration
# ============================================
# ORIGIN must match exactly what you type in the browser (for CSRF protection)
# Examples: http://localhost:3000, http://myserver:3000, https://mineos.example.com
ORIGIN=http://localhost:3000

# Public web origin for CORS (usually same as ORIGIN)
# WEB_ORIGIN_PROD=http://localhost:3000

# Browser-facing API base URL (leave empty to use browser's current URL - recommended)
# PUBLIC_API_BASE_URL=

# Dev UI origin for CORS/CSRF in dev container
# WEB_ORIGIN_DEV=http://localhost:5174

# Allow additional hosts for Vite dev server (comma-separated)
# VITE_ALLOWED_HOSTS=dev-server-1

# Git identity for dev container commits (optional)
# GIT_USER_NAME=Your Name
# GIT_USER_EMAIL=you@example.com
# GIT_DEFAULT_BRANCH=main
# DEV_INSTALL_GIT=true

# ============================================
# Minecraft Server Address
# ============================================
# Public hostname or IP used for the "Copy Address" button in the UI
# PUBLIC_MINECRAFT_HOST=mc.example.com

# ============================================
# Web UI Upload Limits
# ============================================
# Maximum request body size for the web UI (SvelteKit).
# Use Infinity to disable the limit.
# BODY_SIZE_LIMIT=Infinity

# ============================================
# Logging Configuration
# ============================================
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft.AspNetCore=Warning

# ============================================
# Advanced Settings (optional)
# ============================================
# ASPNETCORE_ENVIRONMENT=Production
# ASPNETCORE_URLS=http://+:5078

# ============================================
# Reverse Proxy (Caddy)
# ============================================
# Site address - use :80 for any hostname, or specify domain for HTTPS
# Examples: :80 (any host), https://mineos.example.com (auto HTTPS)
# CADDY_SITE=:80

# Email for Let's Encrypt HTTPS certificates (required for HTTPS)
# CADDY_EMAIL=admin@example.com

# HTTPS port (only used when CADDY_SITE is an HTTPS domain)
# PROXY_HTTPS_PORT=443
